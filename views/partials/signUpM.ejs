<div id="myModal_signUp" class="modal">
  <!-- Modal content -->
  <div id="modal_signUp_content" class="modal-content">
    <span class="modal-sUp_close">&times;</span>
    <h2>Looks like you're new here!</h2>
    <h3>Please fill out the form to complete the sign up process...</h3>
    <!-- form items to gather the data for the upload -->
    <form
      id="newUserForm"
      enctype="multipart/form-data"
      action="/newUserForm"
      method="POST"
      enctype="multipart/form-data"
      onsubmit="return checkUserSignUpForm()"
    >
      <!-- display name -->
      Create a username to be displayed on the site:<br />
      <span id="smallIt"
        >note: if you are a child ensure this is not your real name</span
      >
      <br />
      <input
        type="text"
        name="user_name"
        id="user_name_id"
        maxlength="12"
      /><br /><br />
      <!-- copyright checkbox -->
      Please enter your year of birth e.g. 2001:<br />
      <span id="smallIt">note: this will only be seen by the research team</span
      ><br />
      <INPUT
        type="text"
        NAME="DOB"
        id="DOB_id"
        maxlength="4"
        value=""
      /><br /><br />
      Please enter an email address which the research team can use to contact
      you about this project:<br />
      <span id="smallIt">note: this will only be seen by the research team</span
      ><br />
      <INPUT
        type="text"
        NAME="email_add"
        id="email_add_id"
        size="50"
      /><br /><br />
      Are you a teacher planning to use Remix Portal with your class?<br />
      <INPUT type="radio" NAME="teacher_check" VALUE="y" id="radioYes" />Yes
      <INPUT
        type="radio"
        NAME="teacher_check"
        VALUE="n"
        id="radioNo"
        checked
      />No<br /><br />
      <!-- Experience/motivation questions -->
      Which best describes your level of experience with music produciton
      tools?<br />
      <div style="text-align: left; font-size: 11px">
        <INPUT
          type="radio"
          NAME="experience_check"
          VALUE="1"
          id="radioEBeginner"
        />"I'm just getting started"<br />
        <INPUT
          type="radio"
          NAME="experience_check"
          VALUE="2"
          id="radioEIntermediate"
        />"I've used music production tools but there are some controls I don't
        really understand fully"<br />
        <INPUT
          type="radio"
          NAME="experience_check"
          VALUE="3"
          id="radioEExpert"
        />"I know these tools like the back of my hand"<br /><br />
      </div>
      How keen are you to improve your music production skills?<br />
      <div style="text-align: left; font-size: 11px">
        <INPUT
          type="radio"
          NAME="motivation_check"
          VALUE="1"
          id="radioMBeginner"
        />"I'm happy knowing just enough to get on with making music"<br />
        <INPUT
          type="radio"
          NAME="motivation_check"
          VALUE="2"
          id="radioMIntermediate"
        />"I've got more to learn but I'm in no rush to develop these skills"<br />
        <INPUT
          type="radio"
          NAME="motivation_check"
          VALUE="3"
          id="radioMExpert"
        />"I'm hungry to learn everything I can about music production tools so
        I am ready for any audio challenge!"<br /><br />
      </div>
      <!-- display conditions of use -->
      <div id="termsOfUse">
        <center>
          <strong><u>Terms & Conditions</u></strong>
        </center>
        <p>
          Please read these terms of use carefully before using the services
          offered by University of Newcastle Upon Tyne (“Newcastle University”,
          "University of Newcastle Upon Tyne", “we”, “us”). These terms of use
          set forth the legally binding terms and conditions for your use of the
          website at remixportal.co.uk (the "Service") and the services,
          features, content, applications or widgets offered by Newcastle
          University (collectively with the Service, the "Service" or "the
          App").
        </p>

        <p>
          <strong
            >Please read these Terms of Use carefully before using the Service.
            If you do not accept these Terms of Use, then you may not use the
            Service. These Terms of Use are subject to change by us at any time,
            effective when posted on the Service. Your continued use after such
            notice will constitute acceptance by you of such changes.</strong
          >
        </p>

        <p>
          These Terms of Use apply to all users of the Service, including,
          without limitation, users who are contributors of content,
          information, and other materials or services on the Service,
          individual users of the Service, venues that access the Service, and
          users that have a page on the Service. By using the Service you are
          agreeing to be bound by these Terms of Use.
        </p>

        <p>
          <strong><center>USE OF THE SERVICE</center></strong>You may use this
          Service only subject to these Terms of Use, all applicable laws, rules
          and regulations and any agreements or terms with third parties to
          which you are subject. You may not use this Service for commercial
          purposes, such as to promote a product or service, without our prior
          written consent. We may impose restrictions on certain features or
          your access to the Service without notice or liability.
        </p>

        <p>
          <strong><center>PROHIBITED USE</center></strong>You may not use
          spiders, robots, data mining techniques or other automated devices or
          programs to catalog, download or otherwise reproduce, store or
          distribute content available on the Service. Further, you may not use
          any such automated means to manipulate the Service or attempt to
          exceed the limited authorization and access granted to you under these
          Terms of Use or disrupt the Service or any other user's use of the
          Service, including, without limitation, via means of overloading,
          “flooding”, “mailbombing” or “crashing” the Service or circumventing
          security or user authentication measures. You may not frame portions
          of the Service within another web site or establish links from any
          other web site to any page of the Service other than the home page.
          You may not resell use of, or access to, the Service to any third
          party.
        </p>

        <p>
          <strong><center>CONTENT</center></strong>You are solely responsible
          for any content, photos, artwork, videos, text, graphics, articles and
          other information you upload, post, display or otherwise provide to
          the Service (“Content”). You represent and warrant that: (i) you own
          the Content posted by you on the Service or otherwise have the right
          to grant the license rights granted in these Terms of Use; (ii) your
          Content does not violate the privacy rights, publicity rights,
          intellectual property rights, or any other rights of any person; and
          (iii) the posting of Content on the Service does not result in a
          breach of any contract between you and a third party.
        </p>

        <p>
          We do not guarantee the accuracy, completeness or usefulness of any
          Content. Furthermore, we do not endorse, nor are we responsible for,
          the accuracy and reliability of any opinion, advice or statement made
          on the Service by any third party. We assume no responsibility and no
          obligation to modify or remove any inappropriate Content, and no
          responsibility for the conduct of the user submitting any such
          content.
        </p>

        <p>
          We reserve the right, in our sole discretion, to reject, refuse to
          post or remove any Content posted by you. We expressly reserve the
          right to remove or revoke your registration and/or restrict, suspend,
          or terminate your access to the Service if we determine, in our sole
          discretion, that you pose a threat to the Service and/or its users.
        </p>

        <p>
          After posting your Content to the Service, you continue to retain all
          ownership rights in such Content, and you continue to have the right
          to use your Content in any way you choose. By supplying Content to any
          area of the Service, you automatically grant to us for purposes of
          maintaining the Service, making Content available, and you represent
          and warrant that you have the right to grant an irrevocable,
          transferable, sublicenseable, perpetual, non-exclusive, fully paid up,
          worldwide license to use, copy, perform, reproduce, display, edit,
          modify and distribute such information and Content and to prepare
          derivative works of, or incorporate into other works, such Content.
          Additionally, we shall be free to use any ideas, concepts, know-how or
          techniques contained in such Content for any purpose whatsoever,
          including without limitation, developing, manufacturing and marketing
          products and services which incorporate such Content, including mobile
          applications that may be created using the Service.
        </p>

        <p>
          <strong><center>ONLINE BEHAVIOR</center></strong>The Service is a
          space dedicated to helping communities engage in new and creative ways
          of creating and sharing educational activities. You should not post
          Content to the Service that is inappropriate for or unrelated to this
          mission. The following is a partial list of the type of Content that
          is illegal or prohibited to post on or through the Service. Prohibited
          Content includes, but is not limited to Content that:
        </p>
        <ul>
          <li>
            &bull; is patently offensive and promotes racism, bigotry, hatred or
            physical harm of any kind against any group or individual;
          </li>
          <br />
          <li>&bull;harasses or advocates harassment of another person;</li>
          <br />
          <li>&bull;exploits people in a sexual or violent manner;</li>
          <br />
          <li>
            &bull;contains nudity, violence, or offensive subject matter or
            contains a link to an adult website;
          </li>
          <br />
          <li>
            &bull;solicits personal information from anyone under the age of 21
            years;
          </li>
          <br />
          <li>
            &bull;provides any telephone numbers, street addresses, last names,
            URLs or email addresses;
          </li>
          <br />
          <li>
            &bull;promotes information that you know is false or misleading or
            promotes illegal activities or conduct that is abusive, threatening,
            obscene, defamatory or libelous;
          </li>
          <br />
          <li>
            &bull;promotes an illegal or unauthorized copy of another person's
            copyrighted work, such as providing pirated computer programs or
            links to them, providing information to circumvent
            manufacture-installed copy-protect devices, or providing pirated
            music or links to pirated music files;
          </li>
          <br />
          <li>
            &bull;involves the transmission of "junk mail," "chain letters," or
            unsolicited mass mailing, instant messaging, "spimming," or
            "spamming";
          </li>
          <br />
          <li>
            &bull;contains restricted or password only access pages or hidden
            pages or images (those not linked to or from another accessible
            page);
          </li>
          <br />
          <li>
            &bull;furthers or promotes any criminal activity or enterprise or
            provides instructional information about illegal activities
            including, but not limited to, making or buying illegal weapons,
            violating someone's privacy, or providing or creating computer
            viruses;
          </li>
          <br />
          <li>
            &bull;solicits passwords from other users or personal identifying
            information for commercial or unlawful purposes from other users;
          </li>
          <br />
          <li>
            &bull;involves commercial activities and/or sales without our prior
            written consent such as contests, sweepstakes, barter, advertising,
            or pyramid schemes;
          </li>
          <br />
          <li>
            &bull;or includes a photograph or video footage of another person
            that you have posted without that person's consent or other third
            party content including but not limited to music, trademarks, logos,
            artwork or any other copyrighted, trademarked, or proprietary third
            party content that you have not secured permission to include on the
            Site.
          </li>
          <br />
        </ul>
        <p>
          If you wish to report any Content or conduct on the Service that you
          believe is inappropriate, please contact us at
          c.dodds2@newcastle.ac.uk.
        </p>

        <p>
          <strong><center>NO CONTENT MONITORING</center></strong> We are under
          no obligation to screen or monitor Content, but may review Content
          from time to time at our sole discretion to review compliance with
          these Terms of Use. We will make all determinations as to what Content
          is appropriate in our sole discretion. We may include, edit or remove
          any Content at any time without notice. We may employ automated
          monitoring devices or techniques to protect our users from mass
          unsolicited communications (also known as "spam") and/or other types
          of electronic communications that we deem objectionable. Such devices
          or techniques are not perfect, and we will not be responsible for any
          legitimate communication that is blocked, or for any unsolicited
          communication that is not blocked. Mailboxes may have a limited
          storage capacity. If you exceed the maximum permitted storage space,
          we may employ automated devices that delete or block email messages
          that exceed the limit. We will not be responsible for such deleted or
          blocked messages.
        </p>

        <p>
          <strong><center>TERMINATION OF ACCESS</center></strong>In addition to
          any right or remedy that may be available to us under these Terms of
          Use or applicable law, we may suspend, limit or terminate all or a
          portion of your access to the Service, at any time with or without
          notice and with or without cause. In addition, we may refer any
          information on illegal activities, including your identity, to the
          proper authorities.
        </p>

        <p>
          <strong><center>LINKS</center></strong>This Service may contain links
          to other web sites not maintained by us (including without limitation
          Facebook, Twitter and other social media platforms). We encourage you
          to be aware when you leave our Service and to read the terms and
          conditions and privacy statements of each and every web site that you
          visit. We are not responsible for the practices or the content of such
          other web sites or services.
        </p>

        <p>
          The existence of a link between this Service and any other website is
          not and shall not be understood to be an endorsement by us of the
          owner or proprietor of the linked internet website, nor an endorsement
          of us by the owner or proprietor of such linked website.
        </p>

        <p>
          You agree that we shall not be liable to you or anyone else for any
          type of loss or damages, regardless of whether based on contract,
          negligence, intentional wrongdoing, or liability without fault for any
          costs, losses, or damages (whether direct, indirect, compensatory,
          special, lost profits, liquidated, consequential, or punitive) arising
          out of or in any way in connection with your access to or use of any
          such third party site.
        </p>

        <p>
          <strong><center>OUR PROPRIETARY RIGHTS</center></strong>We or our
          licensors are the exclusive owners of all copy, software, graphics,
          designs and all copyrights, trademarks and other intellectual property
          or proprietary rights contained on or used in connection with the
          Service. Except as set forth herein, you agree not to copy,
          distribute, modify or make derivative works of any materials without
          the prior written consent of the owner of such materials. All rights
          not granted under these Terms of Use are reserved by us.
        </p>

        <p>
          <strong><center>NO WARRANTIES</center></strong>The Service, including
          all content made available on or accessed through the Service, is
          provided "as is" and we make no representations or warranties of any
          kind whatsoever for the content made available through the Service.
          The Service may contain typographical errors and you agree that we
          shall not be bound by any such errors.
        </p>

        <p>
          Further, to the fullest extent permissible by law, we disclaim any
          express or implied warranties, including, without limitation,
          non-infringement, title, merchantability or fitness for a particular
          purpose.
        </p>

        <p>
          We do not warrant that the functions contained in the Service or,
          materials or content contained therein will be completely secure,
          uninterrupted or error free, that defects will be corrected, or that
          the site or the server that makes it available is free of viruses or
          other harmful components.
        </p>

        <p>
          We shall not be liable for the use of the Service, including, without
          limitation, the content and any errors contained therein provided by
          third parties.
        </p>

        <p>
          In no event will we be liable under any theory of tort, contract,
          strict liability or other legal or equitable theory for any direct,
          indirect, special, incidental, or other consequential damages, lost
          profits, lost data, lost opportunities, costs of cover, exemplary,
          punitive, personal injury/wrongful death, each of which is hereby
          excluded by agreement of the parties regardless of whether or not we
          have been advised of the possibility of such damages.
        </p>

        <p>
          <strong><center>INDEMNITY</center></strong>You agree to defend,
          indemnify and hold harmless us, our business partners and agents, from
          and against any and all claims, damages, obligations, losses,
          liabilities, costs or debt, and expenses (including but not limited to
          attorney's fees) arising from any breach by you of any of these Terms
          of Use.
        </p>

        <p>
          <strong><center>JURISDICTION AND GOVERNING LAW</center></strong
          >English law governs these terms and conditions. You submit to the
          non-exclusive jurisdiction of the English courts.
        </p>

        <p>
          <strong><center>SEVERABILITY</center></strong>If any part of these
          Terms of Use shall be held or declared to be invalid or unenforceable
          for any reason by any court of competent jurisdiction, such provision
          shall be ineffective but shall not affect any other part of these
          Terms of Use.
        </p>

        <p>
          <strong><center>WAIVER; REMEDIES</center></strong>The failure by us to
          partially or fully exercise any rights or the waiver of any breach of
          these Terms of Use by you, shall not prevent a subsequent exercise of
          such right by us or be deemed a waiver by us of any subsequent breach
          by you of the same or any other term of these Terms of Use. Our rights
          and remedies under these Terms of Use shall be cumulative, and the
          exercise of any such right or remedy shall not limit our right to
          exercise any other right or remedy. NOTICES. Any and all notices to be
          given by either one of us to the other pursuant to or in connection
          with these Terms of Use shall be deemed sufficiently given when
          forwarded by e-mail in each case addressed to you at the e-mail
          address you have given us or to us at the e-mail address displayed on
          the Service.
        </p>

        <p>
          <strong><center>CONTACT INFORMATION</center></strong>Should you have
          any questions, you may contact us at c.dodds2@newcastle.ac.uk.
        </p>

        <p>
          <strong><center>EFFECTIVE DATE</center></strong>These Terms of Use
          were last updated on 16th August 2017.
        </p>
      </div>
      <br />
      Have you read, understood and accept our terms and conditions?<br />
      <INPUT type="radio" NAME="TC_check" VALUE="y" id="radioTCY" checked />Yes
      <INPUT
        type="radio"
        NAME="TC_check"
        VALUE="n"
        id="radioTCN"
        checked
      />No<br /><br />
      <!-- note I'll need a hidden field to collect UID -->
      <input type="hidden" value="0" name="userId" />
      <!-- finally a submit button -->
      <input type="submit" value="Sumbit" name="submit" class="submitBtn" />
    </form>
  </div>
</div>

<script type="text/javascript">
  //close the post-save modal
  $(".modal-sUp_close").click(function() {
    $(".modal").css({ display: "none" });
    //user is not wanting to sign up at this point so sign them out of firebase so they don't keep getting the modal popup
    signOut(); //sign out using Firebse
  });

  $(".modal-close").click(function() {
    $(".modal").css({ display: "none" });
    //user is not wanting to sign up at this point so sign them out of firebase so they don't keep getting the modal popup
  });

  //check user sign up form prior to giving it to the server
  function checkUserSignUpForm() {
    //check there is a user name
    if (document.getElementsByName("user_name")[0].value == "") {
      alert("there is a problem with the user name entered");
      return false;
      //check there is a year of birth and that all characters are numeric
    } else if (
      $.isNumeric(document.getElementsByName("DOB")[0].value) != true ||
      $("#DOB_id").val().length != 4
    ) {
      alert("there is a problem with the year of birth entered");
      return false;
      //check there is text entered for the email address as well as an @ symbol and .
    } else if (
      isValidEmailAddress(document.getElementsByName("email_add")[0].value) !=
      true
    ) {
      alert("there is a problem with the email address entered");
      return false;
      //check terms of use radio button is set to 'yes'
    } else if (document.getElementsByName("TC_check")[0].checked != true) {
      alert(
        "you did not accept the terms of use therefore we cannot process your application"
      );
      return false;
      //check the user has entered their level of experience
    } else if ($("input[name=experience_check]:checked").val() == undefined) {
      //tell the user they have not entered their level of experience
      alert("you did not enter your level of experience");
      return false;
      //check the user has entered their level of motivation
    } else if ($("input[name=motivation_check]:checked").val() == undefined) {
      //tell the user they have not entered their level of experience
      alert("you did not enter your level of motivation");
      return false;
    } else {
      console.log("form checks passed");
      //close modal
      $(".modal").css({ display: "none" });
      //push form data to database
      var frm = $("#newUserForm");
      $.ajax({
        type: frm.attr("method"),
        url: frm.attr("action"),
        data: frm.serialize(),
        success: function(data) {
          console.log("Submission was successful.");
          //now run the checkIfLoggedIn() function to set up the login menu
          checkIfLoggedIn();
        },
        error: function(data) {
          console.log("An error occurred.");
          //console.log(data);
        }
      });
      //run the check if logged in script - we need their name to display

      //tell the user they can now save their work
      alert(
        "Your details have been registered, you can now save and share remixes. \nCheck out your profile page accessed by clicking on your name in the top right corner of the screen"
      );
      //return false so the page does not try to reload
      return false;
    }
  }

  //check valid email address function
  function isValidEmailAddress(emailAddress) {
    var regex = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
    return regex.test(emailAddress);
  }
</script>
